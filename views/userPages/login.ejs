<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from bigbag-html.netlify.app/login by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 09 Dec 2023 09:40:43 GMT -->
<!-- Added by HTTrack -->
<meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->

<head>

  <!-- SITE TITTLE -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Login - Jkart</title>

  <!-- PLUGINS CSS STYLE -->
  <link href="assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href='assets/plugins/fontawesome-5.15.2/css/all.min.css' rel='stylesheet'>
  <link href='assets/plugins/fontawesome-5.15.2/css/fontawesome.min.css' rel='stylesheet'>
  <link href='assets/plugins/material/css/materialdesignicons.min.css' rel='stylesheet' />
  <link href="assets/plugins/animate/animate.css" rel="stylesheet">
  <link href='assets/plugins/simplebar/simplebar.css' rel='stylesheet' />


  <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.20.0/jquery.validate.min.js"
    integrity="sha512-WMEKGZ7L5LWgaPeJtw9MBM4i5w5OSBlSjTjCtSnvFJGSVD26gE5+Td12qN5pvWXhuWaWcVwF++F7aqu9cvqP0A=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.20.0/additional-methods.min.js"
    integrity="sha512-TiQST7x/0aMjgVTcep29gi+q5Lk5gVTUPE9XgN0g96rwtjEjLpod4mlBRKWHeBcvGBAEvJBmfDqh2hfMMmg+5A=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>


  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>




  <!-- CUSTOM CSS -->
  <link href="assets/css/style.css" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/default.css" id="option_style">

  <!-- Icons -->
  <link rel="shortcut icon" href="assets/img/favicon.png">

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  <style>
    .error {
      color: red;
    }
  </style>
</head>

<body id="body" class="body-wrapper sidebar-dark version1 up-scroll">

  <div class="main-wrapper login">

    <!-- HEADER -->
    <div class="header clearfix">

      <!-- HEADER SM -->
      <div class="header-sm bg-primary d-md-none">
        <div class="container">
          <div class="row">
            <div class="col-2">
              <a href="javascript:void(0)" class="headerToggle" id="sidebarToggle">
                <svg width="20" height="18" viewBox="0 0 20 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect y="0" width="20" height="2" fill="white" />
                  <rect y="6" width="20" height="2" fill="white" />
                  <rect y="12" width="20" height="2" fill="white" />
                </svg>
              </a>
            </div>

            <div class="col-8 header-sm-logo-area">
              
              <img src="./assets/img/logo.png" alt="logo">
              
            </div>

            <div class="col-2">
              <ul class="notify-dropdown">
                <li class="dropdown cart-dropdown">
                  <a href="javascript:void(0)" class="dropdown-toggle header-sm-notify" data-bs-toggle="dropdown"
                    data-bs-display="static">
                    <div class="notify-icon">
                      <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                          d="M7.5 18.3333C7.96024 18.3333 8.33333 17.9602 8.33333 17.5C8.33333 17.0397 7.96024 16.6666 7.5 16.6666C7.03976 16.6666 6.66667 17.0397 6.66667 17.5C6.66667 17.9602 7.03976 18.3333 7.5 18.3333Z"
                          stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        <path
                          d="M16.6667 18.3333C17.1269 18.3333 17.5 17.9602 17.5 17.5C17.5 17.0397 17.1269 16.6666 16.6667 16.6666C16.2064 16.6666 15.8333 17.0397 15.8333 17.5C15.8333 17.9602 16.2064 18.3333 16.6667 18.3333Z"
                          stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        <path
                          d="M0.833333 0.833313H4.16667L6.4 11.9916C6.4762 12.3753 6.68492 12.7199 6.98962 12.9652C7.29432 13.2105 7.67558 13.3408 8.06667 13.3333H16.1667C16.5578 13.3408 16.939 13.2105 17.2437 12.9652C17.5484 12.7199 17.7571 12.3753 17.8333 11.9916L19.1667 4.99998H5"
                          stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                      </svg>

                      <span class="badge">3</span>

                      <!-- <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M15 6.66666C15 5.34057 14.4732 4.0688 13.5355 3.13112C12.5979 2.19344 11.3261 1.66666 10 1.66666C8.67392 1.66666 7.40215 2.19344 6.46447 3.13112C5.52678 4.0688 5 5.34057 5 6.66666C5 12.5 2.5 14.1667 2.5 14.1667H17.5C17.5 14.1667 15 12.5 15 6.66666Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M11.4417 17.5C11.2952 17.7526 11.0849 17.9622 10.8319 18.1079C10.5788 18.2537 10.292 18.3304 10 18.3304C9.70802 18.3304 9.42116 18.2537 9.16815 18.1079C8.91513 17.9622 8.70484 17.7526 8.55833 17.5" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg> -->
                    </div>
                  </a>

                 
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>


    
      <!-- NAVBAR -->
      <nav class="navbar navbar-main navbar-default navbar-expand-md navbar-scrollUp navbar-sticky d-none d-md-block"
        role="navigation">
        <div class="container">
          <!-- Brand and toggle get grouped for better mobile display -->
          <a href="/"><img src="./assets/img/logo.png" alt="gg"></a>
          
          <h1>JKart</h1>
         
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target=".navbar-ex1-collapse"
            aria-controls="navbar-ex1-collapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="fa fa-bars"></span>
          </button>


          <!-- Collect the nav links, forms, and other content for toggling -->
        
          
        </div>
      </nav>
    </div>


    <!-- ====================================
          â€”â€”â€” LEFT SIDEBAR WITH OUT FOOTER
        ===================================== -->
    


    <!-- HEADER FORM -->
    <div class="header-form-area bg-primary d-md-none">
      <form class="header-form" action="#" method="">
        <div class="input-group">
          <input type="text" class="form-control py-0" required="" id="expire" placeholder="Search...">
          <div class="input-group-append">
            <button class="input-group-text border-0 btn bg-white" type="submit">
              <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M8.16667 14.8333C11.8486 14.8333 14.8333 11.8486 14.8333 8.16667C14.8333 4.48477 11.8486 1.5 8.16667 1.5C4.48477 1.5 1.5 4.48477 1.5 8.16667C1.5 11.8486 4.48477 14.8333 8.16667 14.8333Z"
                  stroke="#ccc" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                <path d="M16.5 16.5L12.875 12.875" stroke="#ccc" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
            </button>
          </div>
        </div>
      </form>
    </div>



    <!-- LIGHT SECTION -->
   

    <!-- MAIN CONTENT SECTION -->
    <section class="mainContent clearfix logIn">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-md-7 col-lg-8 col-xl-7 col-12">
            <div class="panel panel-default">
              <div class="panel-heading">
                <h3>log in</h3>
              </div>




              <div class="panel-body">




                <form id="login">
                  <div class="form-outline mb-4">
                    <input type="email" placeholder="Email*" name="email" id="email" class="form-control" />
                  </div>
                  <div class="form-outline mb-4">
                    <input type="password" placeholder="Password*(At least 6 characters long)" name="password"
                      id="password" class="form-control" />
                  </div>
                  <button type="button" class="btn btn-link w-100"
                    onclick="location.href='/forgotPassword';">Forgot Password?</button>

                  <button type="submit" class="btn btn-primary btn-default w-100">Login</button>
                </form>

                <script>

                  $('#login').validate({
                    rules: {
                      email: {
                        pattern: /^[a-z0-9]+(?:[._%+-][a-z0-9]+)*@[a-z0-9-]+(?:\.[a-z0-9-]+)*\.[a-z]{2,}$/,
                        required: true
                      },
                      password: {
                        pattern: /^.{6,30}$/,
                        required: true
                      }
                    },
                    submitHandler: async (form, event) => {
                      event.preventDefault()
                      let logindata = {
                        email: form.email.value,
                        password: form.password.value
                      }
                      let response = await fetch('/login', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(logindata)
                      })
                      let result = await response.json()

                      if(result.login){
                        window.location.href = '/'
                      }if(result.invalid){
                        await Swal.fire({
                            icon: "error",
                            title: "Oops...",
                            text: "Invalid Email/password!",
                        });
                      }
                      if(result.blocked){
                        await Swal.fire({
                            icon: "error",
                            title: "Oops...",
                            text: "Sorry,You have been blocked",
                        });
                        window.location.href = '/'
                      }
                    }


                  })

                </script>




                <div class="d-block social-login text-center">
                  <div class="row row-cols-1 row-cols-lg-2">


                    <div class="col">
                      <button type="button" onclick="location.href='/auth/google';"
                        class="btn btn-social titled google-plus float-lg-end text-white w-100 mb-0">
                        <i class="fab fa-google-plus-g"></i> log in with google
                      </button>
                    </div>
                    <!-- <div><button type="submit" onclick="location.href='javascripr:void(0)';"
            class="btn btn-primary btn-default w-100">Sign UP</button></div> -->
                    <div class="col">
                      <button type="button"
                        class="btn btn-social titled google-plus float-lg-end text-white w-100 mb-0"><a href="/signUP"
                          style="color:white;">New User? Sign
                          up</a></button>
                    </div>


                  </div>

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>


    <%- include('../userPartials/footer') %>

